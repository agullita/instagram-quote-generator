<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instagram Quote Generator - Generador de Frases para Instagram</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>üé® Instagram Quote Generator</h1>
            <p class="subtitle">Crea im√°genes hermosas con tus frases favoritas</p>
        </header>

        <main class="main-content">
            <!-- Formulario de entrada -->
            <div class="form-section">
                <div class="card">
                    <h2>Crea tu imagen</h2>
                    
                    <!-- Selector de modo: Imagen √∫nica o Carrusel -->
                    <div class="mode-selector">
                        <button type="button" class="mode-btn active" data-mode="single">
                            üñºÔ∏è Imagen √önica
                        </button>
                        <button type="button" class="mode-btn" data-mode="carousel">
                            üì± Carrusel
                        </button>
                    </div>
                    
                    <form id="quoteForm">
                        <div class="form-group">
                            <label for="quote">
                                <span class="label-text">Tu frase</span>
                                <span class="required">*</span>
                            </label>
                            <textarea 
                                id="quote" 
                                name="quote" 
                                rows="4" 
                                placeholder="Escribe aqu√≠ la frase que quieres incluir en la imagen..."
                                maxlength="500"
                                required
                            ></textarea>
                            <div class="char-counter">
                                <span id="charCount">0</span> / 500 caracteres
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="author">
                                <span class="label-text">Autor</span>
                                <span class="optional">(opcional)</span>
                            </label>
                            <input 
                                type="text" 
                                id="author" 
                                name="author" 
                                placeholder="Ej: Albert Einstein"
                                maxlength="100"
                            >
                        </div>

                        <div class="form-group">
                            <label for="highlightWords">
                                <span class="label-text">Palabras a Destacar</span>
                                <span class="optional">(opcional)</span>
                            </label>
                            <input 
                                type="text" 
                                id="highlightWords" 
                                name="highlightWords" 
                                placeholder="Ej: felicidad, √©xito, vida (separadas por comas)"
                                maxlength="200"
                            >
                            <div class="field-hint">
                                üí° Las palabras destacadas aparecer√°n en color de acento
                            </div>
                        </div>

                        <!-- Campos adicionales para carrusel (ocultos por defecto) -->
                        <div id="carouselFields" style="display: none;">
                            <div class="form-group">
                                <label for="carouselTitle">
                                    <span class="label-text">T√≠tulo del Carrusel</span>
                                    <span class="optional">(opcional)</span>
                                </label>
                                <input 
                                    type="text" 
                                    id="carouselTitle" 
                                    name="carouselTitle" 
                                    placeholder="Ej: 5 Consejos para el √âxito"
                                    maxlength="100"
                                >
                                <div class="field-hint">
                                    üìÑ Se crear√° un slide de portada con este t√≠tulo
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="carouselSubtitle">
                                    <span class="label-text">Subt√≠tulo</span>
                                    <span class="optional">(opcional)</span>
                                </label>
                                <input 
                                    type="text" 
                                    id="carouselSubtitle" 
                                    name="carouselSubtitle" 
                                    placeholder="Ej: Aprende y crece cada d√≠a"
                                    maxlength="100"
                                >
                            </div>

                            <div class="form-group">
                                <label for="carouselCTA">
                                    <span class="label-text">Call to Action (CTA)</span>
                                    <span class="optional">(opcional)</span>
                                </label>
                                <input 
                                    type="text" 
                                    id="carouselCTA" 
                                    name="carouselCTA" 
                                    placeholder="Ej: S√≠gueme para m√°s contenido"
                                    maxlength="50"
                                >
                                <div class="field-hint">
                                    üéØ Se crear√° un slide final con este mensaje
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="carouselType">
                                    <span class="label-text">Tipo de Carrusel</span>
                                </label>
                                <select id="carouselType" name="carouselType">
                                    <option value="auto">Autom√°tico (divide el texto)</option>
                                    <option value="list">Manual (una frase por slide)</option>
                                </select>
                                <div class="field-hint">
                                    ‚ÑπÔ∏è Autom√°tico: divide texto largo en varios slides | Manual: escribe cada frase en una l√≠nea nueva
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="carouselSize">
                                    <span class="label-text">Formato</span>
                                </label>
                                <select id="carouselSize" name="carouselSize">
                                    <option value="square">Cuadrado (1080x1080)</option>
                                    <option value="vertical">Vertical (1080x1350)</option>
                                    <option value="horizontal">Horizontal (1080x566)</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="template">
                                <span class="label-text">Plantilla de dise√±o</span>
                                <span class="required">*</span>
                            </label>
                            <div id="templateSelector" class="template-selector">
                                <!-- Las plantillas se cargar√°n din√°micamente aqu√≠ -->
                                <div class="loading">Cargando plantillas...</div>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-primary" id="generateBtn">
                            <span class="btn-text">‚ú® Generar Imagen</span>
                            <span class="btn-loading" style="display: none;">
                                <span class="spinner"></span>
                                Generando...
                            </span>
                        </button>
                    </form>
                </div>
            </div>

            <!-- √Årea de resultado -->
            <div class="result-section">
                <div class="card">
                    <h2>Vista previa</h2>
                    
                    <div id="resultArea" class="result-area">
                        <div class="placeholder">
                            <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                <circle cx="8.5" cy="8.5" r="1.5"></circle>
                                <polyline points="21 15 16 10 5 21"></polyline>
                            </svg>
                            <p>Tu imagen aparecer√° aqu√≠</p>
                        </div>
                    </div>

                    <div id="downloadSection" class="download-section" style="display: none;">
                        <button id="downloadBtn" class="btn btn-success">
                            üì• Descargar Imagen
                        </button>
                        <p class="download-info">
                            Imagen optimizada para Instagram (1080x1080 px)
                        </p>
                    </div>
                </div>
            </div>
        </main>

        <!-- Mensajes de error/√©xito -->
        <div id="messageContainer"></div>

        <footer class="footer">
            <p>
                Creado con ‚ù§Ô∏è usando Python, Flask y Pillow |
                <a href="https://github.com" target="_blank">Ver en GitHub</a>
            </p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
